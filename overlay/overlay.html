<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Coach Overlay</title>
    <link rel="stylesheet" href="overlay.css" />
  </head>
  <body>
    <div id="overlay" class="layer-b hidden" data-level="B" role="dialog" aria-modal="true" aria-live="polite" aria-busy="false" aria-labelledby="headline" aria-describedby="diagnosis nextAction">
      <div class="card">
        <div class="header">
          <span id="label" class="label">DRIFT</span>
          <span id="blockName" class="block">Block</span>
        </div>
        <div id="headline" class="headline">Reset.</div>
        <div id="humanLine" class="human-line"></div>
        <div class="diagnosis" id="diagnosis"></div>
        <div class="next-action" id="nextAction"></div>
        <div class="buttons">
          <button id="backBtn" class="primary">Back on track</button>
          <button id="pauseBtn">Pause 15</button>
          <button id="twoMinBtn">2‑min step</button>
          <button id="stuckBtn">I'm stuck</button>
          <button id="recoverBtn" aria-label="Recover schedule">Recover schedule</button>
          <button id="undoRecoverBtn" class="hidden">Undo recover</button>
          <button id="snoozeBtn">Snooze</button>
          <button id="copyDiagBtn" title="Copy system + overlay diagnostics to clipboard">Copy diagnostics</button>
          <button id="relaunchBtn" class="hidden" title="Reload the overlay window (useful if the renderer went blank)">Relaunch overlay</button>
        </div>

        <div id="twoMinPanel" class="two-min hidden">
          <div class="two-min-title">What’s the next 2-minute step?</div>
          <div id="twoMinChoices" class="two-min-choices"></div>
          <div class="two-min-input">
            <input id="twoMinText" type="text" placeholder="Or type one" />
            <button id="twoMinSubmit" class="primary">Set</button>
          </div>
        </div>

        <div id="choiceButtons" class="choices hidden"></div>
        <div id="alignInput" class="align-input hidden">
          <input id="alignText" type="text" placeholder="Type a custom answer" />
          <button id="alignSubmit" class="primary">Submit</button>
        </div>
        <div id="snoozeReason" class="snooze hidden">
          <div class="snooze-title">Snooze reason</div>
          <div class="snooze-buttons">
            <button data-reason="legit_break">Legit break</button>
            <button data-reason="low_energy">Low energy</button>
            <button data-reason="blocked">Blocked</button>
            <button data-reason="social_itch">Social itch</button>
          </div>
        </div>
        <div id="miniPlan" class="mini-plan hidden"></div>
        <div class="footer">
          <span id="hintEnter">Enter: Back on track</span>
          <span>Esc: Snooze / Close</span>
          <span>2/T: 2‑min</span>
          <span id="hintRecover">R: Recover</span>
          <span id="hintUndo">U: Undo</span>
          <span>K: Stuck</span>
          <span id="hintDiag">D: Copy diagnostics</span>
          <span>Cmd/Ctrl+Shift+P: Pause 15</span>
          <span id="hintRelaunch" class="hidden">Cmd+R: Relaunch</span>
        </div>
      </div>
    </div>
    <script src="overlay-utils.js"></script>
    <script src="overlay.js"></script>
  </body>
</html>
